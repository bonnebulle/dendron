<!-- QUICKFIX ToDo TD : localhost // github root folder diferrent -->
<link type="text/css" rel="stylesheet" href="/assets/extra_black.css" />
<!-- For Github -->
<link type="text/css" rel="stylesheet" href="/dendron/assets/extra_black.css" />
<!-- -- -->
<link type="text/css" rel="preload" href="/assets/extra_light.css" />
<!-- For Github -->
<link type="text/css" rel="preload" href="/dendron/assets/extra_light.css" />
<link type="text/css" rel="preload" href="/assets/normalize.css" />
<!-- For Github -->
<link type="text/css" rel="preload" href="/dendron/assets/normalize.css" />



<!-- ---------  -->
<link type="text/css" rel="stylesheet" href="/assets/extra.css" />
<!-- For Github -->
<link type="text/css" rel="stylesheet" href="/dendron/assets/extra.css" />

<link type="text/css" rel="preload" href="/assets/tufte.css" />



<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<script type="text/javascript" src="https://table-of-contents-sidebar.github.io/table-of-contents-sidebar-lib/table-of-contents-sidebar.js"></script>

<script type="text/javascript" src="/assets/app_js.js"></script>
<!-- For Github -->
<script type="text/javascript" src="/dendron/assets/app_js.js"></script>




<div id="go_black"></div>

<script>
let preference = localStorage.getItem('the_switch') || 'blacked';


	if (preference=="blacked") {
    black();
    // console.log("0");
                // $(this).text("0").addClass("black");
                // $("body, head").addClass("blacked");
                setTimeout(function(){ 
                    localStorage.setItem('the_switch', "blacked");
                    preference="blacked";
                }, 10);
	} else {
    light();
    // console.log("1111");
                // $(this).text("1").addClass("light");
                // $("body, head").addClass("ligthed");
                setTimeout(function(){ 
                        localStorage.setItem('the_switch', "ligthed");
                        preference="ligthed";
                }, 10);
	}





function light(){
// LIGHT
	       var head = document.getElementsByTagName('HEAD')[0];  
	        var link = document.createElement('link'); 
	        link.rel = 'stylesheet';  
	        link.type = 'text/css'; 
		//    $("body, head").toggleClass("blacked").toggleClass("ligthed");
             if (window.location.href.indexOf('localhost') > 0) {   
	        link.href = '/assets/extra_light.css';  
	        head.appendChild(link);  
                $("link[href='/assets/extra_black.css']").remove();
              } else {
	          link.href = '/dendron/assets/extra_light.css';  
	          head.appendChild(link);  
              $("link[href='/dendron/assets/extra_black.css']").remove();
              }
}
function black(){
// BLACK
	       var head = document.getElementsByTagName('HEAD')[0];  
	        var link1 = document.createElement('link'); 
	        link1.rel = 'stylesheet'; 
		// $("body, head").toggleClass("blacked").toggleClass("ligthed");
          if (window.location.href.indexOf('localhost') > 0) {   
	        link1.href = '/assets/extra_black.css';  
	        head.appendChild(link1);  
            $("link[href='/asset/extra_light.css']").remove();
          } else {
	          link1.href = '/dendron/assets/extra_black.css';  
	          head.appendChild(link1);  
              $("link[href='/dendron/assets/extra_light.css']").remove();
          }
}



$("#go_black").click(function() {
	$(this).toggleClass("on");
    let preference = localStorage.getItem('the_switch');
	console.log("black " +preference);


   
	if (preference!="blacked") {
    black();
    // console.log("0");
                // $(this).text("0");
                setTimeout(function(){ 
                    localStorage.setItem('the_switch', "blacked");
                    preference="blacked";
                }, 100);
	} else {
    light();
    // console.log("1111");
                // $(this).text("1");
                setTimeout(function(){ 
                        localStorage.setItem('the_switch', "ligthed");
                        preference="ligthed";
                }, 100);
	}
 

});


</script>